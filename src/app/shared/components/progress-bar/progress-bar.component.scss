:host {
  display: block;
  width: 100%;
}

.progress-bar-wrapper {
  position: relative;
  background: rgb(26 32 44 / 12%);
  border-radius: 10px;
  height: 12px; // Default height
  overflow: hidden;
  width: 100%;

  &.hero {
    background: rgb(26 32 44 / 16%);
    border: 1px solid rgb(26 32 44 / 28%);
    border-radius: 12px;
    height: 24px;

    .progress.spent {
      border-radius: 12px;
    }

    .progress.projected {
      border-radius: 12px;
    }

    .month-indicator {
      width: 2px;
      transform: translateX(-1px);

      .indicator-line {
        background: var(--color-primary-dark);
        box-shadow: 0 0 6px rgb(255 183 0 / 35%);
      }

      &::before,
      &::after {
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
      }

      &::before {
        top: -6px;
        border-top: 6px solid var(--color-secondary);
      }

      &::after {
        bottom: -6px;
        border-bottom: 6px solid var(--color-secondary);
      }
    }
  }

  .progress {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    transition: width 0.3s ease;

    &.spent {
      z-index: 2;
      border-radius: 10px;

      // Default colors (neutral/hero)
      background: var(--color-secondary-dark);

      // Status colors
      &[data-status='success'] {
        background: var(--color-primary-dark);
      }

      &[data-status='warning'] {
        background: var(--color-secondary-dark);
      }

      &[data-status='error'] {
        background: var(--color-error);
      }
    }

    &.projected {
      z-index: 1;
      border-radius: 10px;

      // Default colors (neutral/hero)
      background: var(--color-secondary-light);

      // Status colors
      &[data-status='success'] {
        background: rgb(68 149 140 / 55%);
      }

      &[data-status='warning'] {
        background: rgb(240 184 0 / 50%);
      }

      &[data-status='error'] {
        background: rgb(244 67 54 / 50%);
      }
    }
  }

  .month-indicator {
    position: absolute;
    top: -4px;
    bottom: -4px;
    width: 3px;
    z-index: 3;
    transform: translateX(-1.5px);
    pointer-events: none;

    .indicator-line {
      width: 100%;
      height: 100%;
      background: var(--color-secondary);
      box-shadow:
        0 0 0 1px var(--color-surface),
        0 0 6px rgb(240 184 0 / 35%);
      border-radius: 1px;
    }

    &::before,
    &::after {
      content: '';
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
    }

    &::before {
      top: -7px;
      border-top: 7px solid var(--color-secondary);
    }

    &::after {
      bottom: -7px;
      border-bottom: 7px solid var(--color-secondary);
    }
  }
}

@media (prefers-color-scheme: dark) {
  .progress-bar-wrapper {
    background: rgb(255 255 255 / 12%);
  }
}
