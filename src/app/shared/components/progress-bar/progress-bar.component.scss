:host {
  display: block;
  width: 100%;
}

.progress-bar-wrapper {
  position: relative;
  background: rgb(26 32 44 / 12%);
  border-radius: 10px;
  height: 12px; // Default height
  overflow: hidden;
  width: 100%;

  &.hero {
    background: rgb(26 32 44 / 16%);
    border: 1px solid rgb(26 32 44 / 28%);
    border-radius: 12px;
    height: 24px;
  }

  .progress {
    position: absolute;
    top: 0;
    height: 100%;
    transition: width 0.3s ease;

    &.spent {
      z-index: 2;
      border-radius: 10px;

      // Default colors (neutral/hero)
      background: var(--color-secondary-dark);
      opacity: 0.8;

      // Status colors
      &[data-status='success'] {
        background: var(--color-primary-dark);
        opacity: 1;
      }

      &[data-status='warning'] {
        background: var(--color-secondary-dark);
        opacity: 1;
      }

      &[data-status='error'] {
        background: var(--color-error);
        opacity: 1;
      }
    }

    &.projected {
      z-index: 1;
      border-radius: 0 10px 10px 0;

      // Default colors (neutral/hero)
      background: var(--color-secondary-light);
      opacity: 0.8;

      // Status colors
      &[data-status='success'] {
        background: rgb(68 149 140 / 40%);
        opacity: 1;
      }

      &[data-status='warning'] {
        background: rgb(240 184 0 / 35%);
        opacity: 1;
      }

      &[data-status='error'] {
        background: rgb(244 67 54 / 35%);
        opacity: 1;
      }
    }
  }

  .month-indicator {
    position: absolute;
    top: -4px;
    bottom: -4px;
    width: 2px;
    z-index: 3;
    transform: translateX(-1px);
    pointer-events: none;

    .indicator-line {
      width: 100%;
      height: 100%;
      background: var(--color-primary-dark);
      box-shadow: 0 0 6px rgb(255 183 0 / 35%);
      border-radius: 1px;
    }

    &::before,
    &::after {
      content: '';
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
    }

    &::before {
      top: -6px;
      border-top: 6px solid var(--color-secondary);
    }

    &::after {
      bottom: -6px;
      border-bottom: 6px solid var(--color-secondary);
    }
  }
}

@media (prefers-color-scheme: dark) {
  .progress-bar-wrapper {
    background: rgb(255 255 255 / 12%);
  }
}
