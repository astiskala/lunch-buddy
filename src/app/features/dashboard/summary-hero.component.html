<div class="summary-hero">
  <div class="header">
    <h2>{{ monthName() }}</h2>
    <div class="action-buttons">
      <button
        mat-stroked-button
        type="button"
        class="action-btn customize-btn"
        (click)="customize.emit()"
        title="Customise dashboard"
        aria-label="Customise dashboard">
        <mat-icon>settings</mat-icon>
        <span class="btn-label">Customise</span>
      </button>
      <button
        mat-stroked-button
        type="button"
        class="action-btn logout-btn"
        (click)="logout.emit()"
        title="Logout"
        aria-label="Logout">
        <mat-icon>logout</mat-icon>
        <span class="btn-label">Logout</span>
      </button>
    </div>
  </div>

  <div class="budget-bars">
    @for (section of budgetSections(); track section.title) {
      <div class="budget-section">
        <div class="section-header">
          <h3>{{ section.title }}</h3>
        </div>

        <div class="progress-bars">
          <app-progress-bar
            variant="hero"
            [spentPercent]="section.spentPercent"
            [projectedPercent]="section.projectedPercent"
            [monthProgressPercent]="monthProgressPercent()">
          </app-progress-bar>
        </div>

        <div class="metrics">
          <div class="metric">
            <span class="metric-label">{{ section.spentLabel }}</span>
            <span class="metric-value">{{ section.spentFormatted }}</span>
          </div>
          <div class="metric">
            <span class="metric-label">Upcoming</span>
            <span class="metric-value">{{ section.upcomingFormatted }}</span>
          </div>
          <div class="metric">
            <span class="metric-label">Remaining</span>
            <span
              class="metric-value highlight"
              [class.negative]="section.remaining < 0">
              {{ section.remainingFormatted }}
            </span>
          </div>
        </div>
      </div>
    }
  </div>
</div>
