<main
  class="login-container"
  aria-labelledby="login-title login-subtitle"
  role="main">
  <section class="login-card" aria-labelledby="login-title login-subtitle">
    <header class="login-header">
      <img
        ngSrc="icons/lunch-buddy.svg"
        width="64"
        height="64"
        alt="Lunch Buddy logo"
        class="login-logo"
        priority />
      <h1 id="login-title">Sign in to Lunch Buddy</h1>
      <p class="login-description">
        Lunch Buddy visualizes progress against your Lunch Money budgets,
        helping you to keep track of your spending as it happens.
      </p>
    </header>

    <form (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="apiKey">API Key</label>
        <input
          type="password"
          id="apiKey"
          [value]="apiKey()"
          (input)="onApiKeyChange($any($event.target).value)"
          placeholder="Enter your API key"
          required
          autocomplete="off" />
        @if (errorMessage()) {
          <span class="error-message">{{ errorMessage() }}</span>
        }
      </div>

      <button
        type="submit"
        class="submit-button"
        [disabled]="!canSubmit()"
        [attr.aria-disabled]="!canSubmit()">
        @if (isSubmitting()) {
          <span>Logging in...</span>
        } @else {
          <span>Continue</span>
        }
      </button>
    </form>

    <footer class="login-footer" aria-label="Developer resources">
      <p>
        Don't have an API key?
        <a
          href="https://my.lunchmoney.app/developers"
          target="_blank"
          rel="noopener noreferrer">
          Get one from Lunch Money
        </a>
      </p>
      <p>
        Want to learn more or get help?
        <a
          href="https://github.com/astiskala/lunch-buddy"
          target="_blank"
          rel="noopener noreferrer">
          Visit the project on GitHub
        </a>
      </p>
    </footer>
  </section>
</main>
